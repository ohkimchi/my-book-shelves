{"version":3,"sources":["icons/arrow-drop-down.svg","icons/arrow-back.svg","icons/search.png","utils/allFuncs.js","components/styled-components/StyledElements.js","components/SelectShelf.js","components/Book.js","components/Shelf.js","components/Search.js","App.js","index.js"],"names":["module","exports","__webpack_require__","p","getAllDataFromJson","data","dataArray","map","d","push","filterBooksByStatus","reading","toRead","haveRead","noneDefined","shelf","puhs","translateChinToEng","chin","eng","ListBooksTitle","styled","div","_templateObject","ShelfList","_templateObject2","Card","_templateObject3","BookTop","_templateObject4","BookCover","_templateObject5","props","img","BookShelfChanger","_templateObject6","dropDown","BookTitle","_templateObject7","BookAuthor","_templateObject8","OpenSearch","_templateObject9","search","BookShelf","_templateObject10","BookShelfTitle","h3","_templateObject11","BookShelfBooks","section","_templateObject12","SearchBar","ol","_templateObject13","_templateObject14","SearchResult","_templateObject15","SearchBooksInputWrapper","_templateObject16","CloseSearchButton","button","_templateObject17","arrowBack","SelectShelf","onShelfChange","book","react_default","a","createElement","value","onChange","event","newShelf","translateEngToChin","target","newBook","title","author","when","thumbnail","disabled","Book","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","_this$props","info","shelfEng","lib_default","debounce","throttle","once","components_SelectShelf","Component","Shelf","shelfType","BookInfoArray","shelfTypeEng","concat","length","index","key","components_Book","Search","handleChange","inputStr","setState","updatedData","getTargetData","inputStrArr","split","res","inp","tempData","filter","toLowerCase","includes","react_router_dom","to","type","placeholder","components_Shelf","BooksApp","oldBookInfo","oldUpdatedData","indexOf","displayAllShelves","Data","allShelves","bind","assertThisInitialized","_this2","className","build_default","parent","react_router","exact","path","render","components_Search","ReactDOM","basename","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.f15d6c14.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/arrow-drop-down.78c6f53b.svg\";","module.exports = __webpack_public_path__ + \"static/media/arrow-back.3687aa98.svg\";","module.exports = __webpack_public_path__ + \"static/media/search.876d6c05.png\";","export const getAllDataFromJson = data => {\n  let dataArray = [];\n  data.map(d => {\n    return dataArray.push(d);\n  });\n  return dataArray;\n};\n\nexport const filterBooksByStatus = data => {\n  let reading = [], toRead = [], haveRead = [], noneDefined = [];\n  data.map(d => {\n    switch (d.shelf) {\n      case \"在读\":\n        reading.push(d);\n        break;\n      case \"想读\":\n        toRead.push(d);\n        break;\n      case \"读过\":\n        haveRead.push(d);\n        break;\n      case \"NoneDefined\":\n        noneDefined.push(d);\n        break;\n      default:\n        noneDefined.puhs(d);\n        break;\n    }\n    return (reading, toRead, haveRead, noneDefined);\n  });\n  return [reading, toRead, haveRead, noneDefined];\n}\n\nexport const translateChinToEng = chin => {\n  let eng = \"\";\n  switch (chin) {\n    case \"在读\":\n      eng = \"Currently Reading\";\n      break;\n    case \"想读\":\n      eng = \"Want to Read\";\n      break;\n    case \"读过\":\n      eng = \"Read\";\n      break;\n    case \"NoneDefined\":\n      eng = \"None\";\n      break;\n    default:\n      eng = \"None\";\n      break;\n  }\n  return eng;\n}\n\nexport const translateEngToChin = eng => {\n  let chin = \"\";\n  switch (eng) {\n    case \"Currently Reading\":\n      chin = \"在读\";\n      break;\n    case \"Want to Read\":\n      chin = \"想读\";\n      break;\n    case \"Read\":\n      chin = \"读过\";\n      break;\n    case \"None\":\n      chin = \"NoneDefined\";\n      break;\n    default:\n      chin = \"NoneDefined\";\n      break;\n  }\n  return chin;\n}\n","import styled from \"styled-components\"\nimport dropDown from \"../../icons/arrow-drop-down.svg\"\nimport arrowBack from \"../../icons/arrow-back.svg\"\nimport search from \"../../icons/search.png\"\n\n// Main page\nexport const ListBooksTitle = styled.div`\n  padding: 10px 0;\n  text-align: center;\n  > h1 {\n    font-weight: 400;\n    margin: 0;\n    color: LightSkyBlue;\n  }\n`;\n\nexport const ShelfList = styled.div`\n  padding: 0 0 80px;\n  flex: 1;\n`;\n\nexport const Card = styled.div`\n  width: 140px;\n`;\n\nexport const BookTop = styled.div`\n  position: relative;\n  height: 200px;\n  display: flex;\n  align-items: flex-end;\n`;\n\nexport const BookCover = styled.div`\n  box-shadow: 0 3px 6px rgba(0, 0, 0, 0.16), 0 3px 6px rgba(0, 0, 0, 0.23);\n  background: #eee;\n  width: 128px;\n  height: 193px;\n  background-size: contain;\n  background-image: url(${props => props.img});\n`;\n\nexport const BookShelfChanger = styled.div`\n  position: absolute;\n  right: 0;\n  bottom: -10px;\n  width: 15px;\n  height: 15px;\n  border-radius: 50%;\n  background-color: lightGrey;\n  background-image: url(${dropDown});\n  background-repeat: no-repeat;\n  background-position: center;\n  background-size: 20px;\n  box-shadow: 0 3px 6px rgba(0, 0, 0, 0.16), 0 3px 6px rgba(0, 0, 0, 0.23);\n  > select {\n    width: 100%;\n    height: 100%;\n    opacity: 0;\n    cursor: pointer;\n  }\n`;\n\nexport const BookTitle = styled.div`\n  font-size: 0.8em;\n  margin-top: 10px;\n`;\n\nexport const BookAuthor = styled.div`\n  font-size: 0.5em;\n  color: #999;\n`;\n\nexport const OpenSearch = styled.div`\n  position: fixed;\n  right: 25px;\n  bottom: 25px;\n  > * > button {\n    display: block;\n    width: 50px;\n    height: 50px;\n    border-radius: 50%;\n    background-image: url(${search});\n    background-repeat: no-repeat;\n    background-position: center;\n    background-size: 28px;\n    box-shadow: 0 3px 6px rgba(0,0,0,0.16), 0 3px 6px rgba(0,0,0,0.23);\n    font-size: 0;\n    outline: 0;\n    &:hover {\n      background-color: lightGrey;\n    }\n  }\n`;\n\n// Shelf\nexport const BookShelf = styled.div`\n  padding: 0 10px 20px;\n  @media (min-width: 600px) {\n    padding: 0 20px 40px;\n  }\n`;\n\nexport const BookShelfTitle = styled.h3`\n  border-bottom: 1px solid LightSteelBlue;\n`;\n\nexport const BookShelfBooks = styled.section`\n  text-align: center;\n  > ol {\n    overflow-x: auto;\n    list-style-type: none;\n    padding: 0;\n    margin: 0;\n    display: flex;\n    > li {\n      padding: 10px 15px;\n      text-align: left;\n    }\n  }\n`;\n\nexport const Li = styled.ol`\n  padding: 10px 15px;\n  text-align: left;\n`\n\n// Search\nexport const SearchBar = styled.div`\n  position: fixed;\n  width: 100%;\n  top: 0;\n  left: 0;\n  z-index: 5;\n  display: flex;\n  box-shadow: 0 10px 20px rgba(0,0,0,0.19), 0 0 6px rgba(0,0,0,0.23);\n`;\n\nexport const SearchResult = styled.div`\n  padding: 80px 10px 20px;\n`;\n\nexport const SearchBooksInputWrapper = styled.div`\n  flex: 1;\n  > input {\n    width: 100%;\n    padding: 15px 10px;\n    font-size: 1.25em;\n    border: none;\n    outline: none;\n    font-family: 'Monaco', sans-serif;\n  }\n`;\n\nexport const CloseSearchButton = styled.button`\n  display: block;\n  top: 20px;\n  left: 15px;\n  width: 50px;\n  height: 53px;\n  background-image: url(${arrowBack});\n  background-position: center;\n  background-repeat: no-repeat;\n  background-size: 28px;\n  font-size: 0;\n  border: none;\n  outline: none;\n  &:active {\n    border: red;\n    outline: none;\n  }\n`;\n","import React from 'react';\nimport { BookShelfChanger } from './styled-components/StyledElements';\nimport { translateEngToChin } from '../utils/allFuncs';\n\nconst SelectShelf = (props) => {\n  const { shelf, onShelfChange, book } = props;\n\n  const handleChange = event => {\n    const newShelf = translateEngToChin(event.target.value);\n    const newBook = {\n      \"title\": book.title,\n      \"author\": book.author,\n      \"shelf\": newShelf,\n      \"when\": book.when,\n      \"thumbnail\": book.thumbnail\n    };\n    return onShelfChange(book, newBook);\n  }\n\n\n  return (\n    <BookShelfChanger>\n      <select value={shelf} onChange={handleChange}>\n        <option value=\"move\" disabled>\n          Move to...\n        </option>\n        <option value=\"Currently Reading\">Currently Reading</option>\n        <option value=\"Want to Read\">Want to Read</option>\n        <option value=\"Read\">Read</option>\n        <option value=\"None\">None</option>\n      </select>\n    </BookShelfChanger>\n  );\n\n}\n\nexport default SelectShelf;\n","import React, { Component } from \"react\"\nimport LazyLoad from 'react-lazyload'\nimport { Card, BookTop, BookCover, BookTitle, BookAuthor } from \"./styled-components/StyledElements\"\nimport SelectShelf from './SelectShelf'\nimport { translateChinToEng } from '../utils/allFuncs'\n\nclass Book extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      shelf: props.shelf\n    };\n  }\n\n  render() {\n    const { info, onShelfChange } = this.props;\n    const { title, author, thumbnail, shelf } = info;\n    const shelfEng = translateChinToEng(shelf);\n    return (\n      <Card>\n        <BookTop>\n          <LazyLoad debounce={false} throttle={250} once>\n            <BookCover img={thumbnail} />\n          </LazyLoad>\n          <SelectShelf shelf={shelfEng}\n                       onShelfChange={onShelfChange}\n                       book={info} />\n        </BookTop>\n        <BookTitle>{title}</BookTitle>\n        <BookAuthor>{author}</BookAuthor>\n      </Card>\n    );\n  }\n}\n\nexport default Book;\n","import React from \"react\";\nimport { BookShelf, BookShelfTitle, BookShelfBooks } from \"./styled-components/StyledElements\";\nimport { translateChinToEng } from '../utils/allFuncs';\nimport Book from './Book';\n\nconst Shelf = props => {\n  const { shelfType, onShelfChange, BookInfoArray } = props;\n  const shelfTypeEng = translateChinToEng(shelfType);\n\n  return (\n    <BookShelf>\n      <BookShelfTitle>{`${shelfTypeEng} (${BookInfoArray.length})`}</BookShelfTitle>\n      <BookShelfBooks>\n        <ol>\n          { BookInfoArray.map((book, index) => {\n            return (\n              <li key={`${shelfTypeEng}-${index}-${book.title}`}>\n                <Book info={book} onShelfChange={onShelfChange}/>\n              </li>);\n          })}\n        </ol>\n      </BookShelfBooks>\n    </BookShelf>\n  );\n};\n\nexport default Shelf;\n","import React, { Component } from \"react\"\nimport { Link } from 'react-router-dom'\nimport { SearchBar, SearchResult, SearchBooksInputWrapper, CloseSearchButton } from \"./styled-components/StyledElements\"\nimport Shelf from './Shelf'\n\nclass Search extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      updatedData: []\n    }\n  }\n\n  handleChange = (event) => {\n    const inputStr = event.target.value;\n    this.setState({\n      updatedData: this.getTargetData(inputStr)\n    });\n  }\n\n  getTargetData = (inputStr) => {\n    const inputStrArr = inputStr.split(' ');\n    const res = [];\n    inputStrArr.map((inp, index) => {\n      const tempData = inp !== '' ? this.props.data.filter(d =>\n        (d.title.toLowerCase().includes(inp.toLowerCase()) ||\n          d.author.toLowerCase().includes(inp.toLowerCase()))) : [];\n      if (tempData !== []) {\n        tempData.map(d => {\n          return !res.includes(d) && res.push(d);\n        });\n      }\n      return res;\n    })\n    return res;\n  }\n\n  render() {\n    return (\n      <div>\n        <SearchBar>\n          <Link to=\"/\">\n            <CloseSearchButton>Close</CloseSearchButton>\n          </Link>\n          <SearchBooksInputWrapper>\n            <input type=\"text\"\n                   placeholder=\"Search by title or author\"\n                   onChange={this.handleChange} />\n          </SearchBooksInputWrapper>\n        </SearchBar>\n        <SearchResult>\n          { this.state.updatedData !== [] &&\n            <Shelf key={\"shelf-search\"}\n                   shelfType={\"any-types\"}\n                   BookInfoArray={this.state.updatedData}\n                   onShelfChange={this.props.onShelfChange}\n            /> }\n        </SearchResult>\n      </div>\n    );\n  }\n}\n\nexport default Search;\n","/* eslint import/no-webpack-loader-syntax: off */\nimport React, { Component } from 'react'\nimport { Link, Route } from 'react-router-dom'\nimport SimpleStorage from 'react-simple-storage'\nimport './App.css'\nimport { getAllDataFromJson, filterBooksByStatus } from './utils/allFuncs'\nimport Data from './utils/bookInfoArr.json'\nimport Shelf from './components/Shelf'\nimport Search from './components/Search'\nimport { ListBooksTitle, ShelfList, OpenSearch } from './components/styled-components/StyledElements';\n\nclass BooksApp extends Component {\n  constructor() {\n    super();\n    this.state = {\n      updatedData: getAllDataFromJson(Data),\n      allShelves: filterBooksByStatus(getAllDataFromJson(Data))\n    };\n    this.onShelfChange = this.onShelfChange.bind(this);\n  }\n\n  onShelfChange = (oldBookInfo, book) => {\n    let oldUpdatedData = this.state.updatedData;\n    let index = oldUpdatedData.indexOf(oldBookInfo);\n    if (~index) {\n      oldUpdatedData[index] = book;\n    }\n    this.setState({\n      updatedData: oldUpdatedData\n    });\n  }\n\n  displayAllShelves = () => {\n    const shelves = filterBooksByStatus(this.state.updatedData);\n    const allShelves = shelves.map(shelf => {\n      return shelf.length === 0 ? [] :\n        (<Shelf key={`shelf-${shelf[0].shelf}`}\n                shelfType={shelf[0].shelf}\n                BookInfoArray={shelf}\n                onShelfChange={this.onShelfChange} />)\n    });\n    return allShelves;\n  }\n\n  render() {\n    return (\n      <div className=\"app\">\n        <SimpleStorage parent={this} />\n        <Route exact path='/' render={() => (\n          <div className=\"list-books\">\n            <ListBooksTitle>\n              <h1>Junhui's books</h1>\n            </ListBooksTitle>\n            <ShelfList>\n              <div>\n                { this.displayAllShelves() }\n              </div>\n            </ShelfList>\n            <OpenSearch>\n              <Link to='/search'>\n                <button>Search a book</button>\n              </Link>\n            </OpenSearch>\n          </div>\n        )} />\n        <Route path='/search' render={() => (\n          <Search data={this.state.updatedData}\n                  onShelfChange={this.onShelfChange} />\n        )} />\n      </div>\n    )\n  }\n}\n\nexport default BooksApp;\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { BrowserRouter } from 'react-router-dom'\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(\n  <BrowserRouter basename=\"https://ohkimchi.github.io/my-book-shelves\">\n    <App />\n  </BrowserRouter>, document.getElementById('root'))\n"],"sourceRoot":""}